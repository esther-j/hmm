{"ast":null,"code":"import _classCallCheck from\"/Users/estherjang/Documents/hmm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/estherjang/Documents/hmm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/estherjang/Documents/hmm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/estherjang/Documents/hmm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Form from\"./components/Form\";import Title from\"./components/Title\";import Display from\"./components/Display\";import Container from\"@material-ui/core/Container\";import CssBaseline from\"@material-ui/core/CssBaseline\";import{withStyles}from\"@material-ui/core/styles\";import firebase from\"./firebase.js\";var styles=function styles(theme){return{title:{margin:theme.spacing(\"10%\",0,5)},newContainer:{padding:theme.spacing(3),marginBottom:\"15%\"},formInput:{width:\"100%\",margin:theme.spacing(1,0,0,0)},button:{float:\"right\",margin:theme.spacing(1,0,0,1)},wordWrap:\"break-word\",display:{marginBottom:theme.spacing(8)},flexEnd:{display:\"flex\",justifyContent:\"flex-end\"}};};var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.addData=function(title,body){var itemsRef=firebase.database().ref(\"data\");var newData={title:title,body:body,time:new Date().getTime(),likes:0};itemsRef.push(newData);};_this.removeData=function(id){var itemRef=firebase.database().ref(\"/data/\".concat(id));itemRef.remove();};_this.updateLikes=function(id,likes){var likesItemRef=firebase.database().ref(\"/data/\".concat(id));likesItemRef.update({likes:likes});};_this.state={data:[]};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var itemsRef=firebase.database().ref(\"data\");itemsRef.on(\"value\",function(snapshot){var allData=snapshot.val();var newData=[];for(var dataItem in allData){newData.push({id:dataItem,title:allData[dataItem].title,body:allData[dataItem].body,time:allData[dataItem].time,likes:allData[dataItem].likes});}_this2.setState({data:newData});});}},{key:\"render\",value:function render(){var classes=this.props.classes;return/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"md\"},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(Title,{classes:classes}),/*#__PURE__*/React.createElement(Form,{classes:classes,addData:this.addData}),/*#__PURE__*/React.createElement(Display,{classes:classes,data:this.state.data,removeData:this.removeData,updateLikes:this.updateLikes})));}}]);return App;}(React.Component);export default withStyles(styles)(App);","map":{"version":3,"sources":["/Users/estherjang/Documents/hmm/src/App.js"],"names":["React","Form","Title","Display","Container","CssBaseline","withStyles","firebase","styles","theme","title","margin","spacing","newContainer","padding","marginBottom","formInput","width","button","float","wordWrap","display","flexEnd","justifyContent","App","props","addData","body","itemsRef","database","ref","newData","time","Date","getTime","likes","push","removeData","id","itemRef","remove","updateLikes","likesItemRef","update","state","data","on","snapshot","allData","val","dataItem","setState","classes","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Form from \"./components/Form\";\nimport Title from \"./components/Title\";\nimport Display from \"./components/Display\";\nimport Container from \"@material-ui/core/Container\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport firebase from \"./firebase.js\";\n\nconst styles = (theme) => ({\n  title: {\n    margin: theme.spacing(\"10%\", 0, 5),\n  },\n  newContainer: {\n    padding: theme.spacing(3),\n    marginBottom: \"15%\",\n  },\n  formInput: {\n    width: \"100%\",\n    margin: theme.spacing(1, 0, 0, 0),\n  },\n  button: {\n    float: \"right\",\n    margin: theme.spacing(1, 0, 0, 1),\n  },\n  wordWrap: \"break-word\",\n  display: {\n    marginBottom: theme.spacing(8),\n  },\n  flexEnd: {\n    display: \"flex\", \n    justifyContent: \"flex-end\"\n  }\n});\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n    };\n  }\n\n  componentDidMount() {\n    const itemsRef = firebase.database().ref(\"data\");\n    itemsRef.on(\"value\", (snapshot) => {\n      let allData = snapshot.val();\n      let newData = [];\n      for (let dataItem in allData) {\n        newData.push({\n          id: dataItem,\n          title: allData[dataItem].title,\n          body: allData[dataItem].body,\n          time: allData[dataItem].time,\n          likes: allData[dataItem].likes\n        });\n      }\n      this.setState({\n        data: newData,\n      });\n    });\n  }\n\n  addData = (title, body) => {\n    const itemsRef = firebase.database().ref(\"data\");\n    const newData = {\n      title,\n      body,\n      time: new Date().getTime(),\n      likes: 0\n    };\n    itemsRef.push(newData);\n  };\n\n  removeData = (id) => {\n    const itemRef = firebase.database().ref(`/data/${id}`);\n    itemRef.remove();\n  }\n\n  updateLikes = (id, likes) => {\n    const likesItemRef = firebase.database().ref(`/data/${id}`);\n    likesItemRef.update({\n      likes\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <main>\n        <Container component=\"main\" maxWidth=\"md\">\n          <CssBaseline />\n          <Title classes={classes} />\n          <Form classes={classes} addData={this.addData} />\n          <Display classes={classes} data={this.state.data} removeData={this.removeData} updateLikes={this.updateLikes}/>\n        </Container>\n      </main>\n    );\n  }\n}\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(App);\n"]},"metadata":{},"sourceType":"module"}